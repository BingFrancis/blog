<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.blog.mapper.article.ArticleMapper">

    <insert id="inserContent" parameterType="com.blog.entity.Article" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO articles (id,user_id,auther,title,content,img_url,views,comment_count,write_date,update_date,like_count) values(#{id},#{userId},#{auther},#{title}, #{content},#{imgUrl},#{views}, #{commentCount},#{writeDate},#{updateDate},#{likeCount})
    </insert>

    <select id="findByJoin" resultMap="joinMap">
        select id,user_id,auther, title,content,img_url,views,comment_count,write_date,update_date,like_count from articles
    </select>

    <!--<select id="findByJoin" resultMap="joinMap">-->
        <!--select a.id,a.user_id,a.auther, a.title,a.content,a.img_url,a.views,a.comment_count,a.write_date,a.update_date,a.like_count,u.nick_name from articles a INNER JOIN `user` u on a.user_id = u.id-->
    <!--</select>-->

    <resultMap id="joinMap" type="com.blog.entity.Article">
        <id property="ArticleId" column="id"></id>
        <result property="userId" column="user_id"></result>
        <result property="auther" column="auther"></result>
        <result property="title" column="title"></result>
        <result property="content" column="content"></result>
        <result property="imgUrl" column="img_url"></result>
        <result property="views" column="views"></result>
        <result property="commentCount" column="comment_count"></result>
        <result property="writeDate" column="write_date"></result>
        <result property="updateDate" column="update_date"></result>
        <result property="likeCount" column="like_count"></result>
        <!--<association property="user" javaType="com.blog.entity.User">-->
            <!--<result  property="nickName" column="nick_name" />-->
        <!--</association>-->
    </resultMap>
</mapper>